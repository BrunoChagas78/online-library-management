<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-br"
      th:replace="_layout :: layout (~{::body}, ~{::title})"
      th:with="title=${livro.id} != null ? 'Editar Livro' : 'Novo Livro', content=~{::section}">
<body>
<section>
  <h2 th:text="${livro.id} != null ? 'Editar Livro' : 'Novo Livro'">Novo Livro</h2>

  <form th:action="${livro.id} != null ? @{|/livros/${livro.id}|} : @{/livros}"
        method="post" th:object="${livro}" class="form">
    <div class="field">
      <label for="titulo">TÃ­tulo</label>
      <input id="titulo" type="text" th:field="*{titulo}">
      <small class="error" th:if="${#fields.hasErrors('titulo')}" th:errors="*{titulo}">erro</small>
    </div>

    <div class="field">
      <label for="autor">Autor</label>
      <input id="autor" type="text" th:field="*{autor}">
      <small class="error" th:if="${#fields.hasErrors('autor')}" th:errors="*{autor}">erro</small>
    </div>

    <div class="actions">
      <button type="submit">Salvar</button>
      <a th:href="@{/livros}">Voltar</a>
    </div>
  </form>
</section>
</body>
</html>
