<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-br"
      th:replace="~{_layout :: layout(~{::section}, 'Livro')}">
<body>
<section>
  <!-- título: sem ${} aninhado -->
  <h2 class="title" th:text="${livro.id} == null ? 'Novo Livro' : 'Editar Livro'">Novo Livro</h2>

  <!-- action condicional: POST /livros (novo) OU POST /livros/{id} (editar) -->
  <form th:action="${livro.id} == null ? @{/livros} : @{|/livros/${livro.id}|}"
        method="post" th:object="${livro}">

    <label for="titulo">Título</label>
    <input id="titulo" type="text" th:field="*{titulo}">
    <div class="field-error" th:errors="*{titulo}"></div>

    <label for="autor">Autor</label>
    <input id="autor" type="text" th:field="*{autor}">
    <div class="field-error" th:errors="*{autor}"></div>

    <!-- Se você adicionou o campo 'status' na entidade, descomente este bloco -->
    <!--
    <label for="status">Status</label>
    <select id="status" th:field="*{status}">
      <option value="ATIVO">ATIVO</option>
      <option value="INATIVO">INATIVO</option>
    </select>
    <div class="field-error" th:errors="*{status}"></div>
    -->

    <div class="form-actions">
      <button class="btn btn-primary" type="submit">Salvar</button>
      <a class="btn btn-ghost" th:href="@{/livros}">Voltar</a>
    </div>
  </form>
</section>
</body>
</html>
